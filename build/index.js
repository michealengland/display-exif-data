!function(e){var t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(r,c,function(t){return e[t]}.bind(null,c));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t,n){e.exports=n(13)()},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){!function(){e.exports=this.React}()},function(e,t,n){var r=n(8),c=n(9),o=n(10),a=n(12);e.exports=function(e,t){return r(e)||c(e,t)||o(e,t)||a()}},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,c=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){c=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(c)throw o}}return n}}},function(e,t,n){var r=n(11);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var r=n(14);function c(){}function o(){}o.resetWarningCache=c,e.exports=function(){function e(e,t,n,c,o,a){if(a!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:c};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,,,function(e,t,n){"use strict";n.r(t);var r=n(3),c=n.n(r),o=n(0),a=n(5),i=n.n(a),l=n(4),s=n(2),u=n(1),p=n.n(u),m=n(6),b=wp.components,f=b.Path,d=b.SVG,h=function(){return Object(o.createElement)(d,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(f,{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"}),Object(o.createElement)(f,{d:"M0 0h24v24H0z",fill:"none"}))},O=wp.components,j=O.Path,y=O.SVG,v=function(){return Object(o.createElement)(y,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(j,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(j,{d:"M9.4 10.5l4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0l-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35-.93 1.6z"}))},g=wp.components,E=g.Path,w=g.SVG,z=function(){return Object(o.createElement)(w,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)("circle",{cx:"12",cy:"12",r:"3.2"}),Object(o.createElement)(E,{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"}),Object(o.createElement)(E,{d:"M0 0h24v24H0z",fill:"none"}))},x=wp.components,P=x.Path,S=x.SVG,k=function(){return Object(o.createElement)(S,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(P,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(P,{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"}))},H=wp.components,M=H.G,T=H.Path,V=H.Rect,C=H.SVG,_=function(){return Object(o.createElement)(C,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(M,null,Object(o.createElement)(V,{fill:"none",height:"24",width:"24",x:"0"})),Object(o.createElement)(M,null,Object(o.createElement)(M,null,Object(o.createElement)(M,null,Object(o.createElement)(T,{d:"M11.88,9.14c1.28,0.06,1.61,1.15,1.63,1.66h1.79c-0.08-1.98-1.49-3.19-3.45-3.19C9.64,7.61,8,9,8,12.14 c0,1.94,0.93,4.24,3.84,4.24c2.22,0,3.41-1.65,3.44-2.95h-1.79c-0.03,0.59-0.45,1.38-1.63,1.44C10.55,14.83,10,13.81,10,12.14 C10,9.25,11.28,9.16,11.88,9.14z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8 s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z"})))))},D=wp.components,I=D.Path,F=D.SVG,B=function(){return Object(o.createElement)(F,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(I,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(I,{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}))},L=wp.components,G=L.Path,R=L.SVG,A=function(){return Object(o.createElement)(R,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(G,{d:"M0 0h24v24H0zm0 0h24v24H0z",fill:"none"}),Object(o.createElement)(G,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5.5 7.5h2v-2H9v2h2V9H9v2H7.5V9h-2V7.5zM19 19H5L19 5v14zm-2-2v-1.5h-5V17h5z"}))},N=wp.components,q=N.Path,K=N.SVG,U=function(){return Object(o.createElement)(K,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(q,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(q,{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"}))},W=wp.components,Y=W.Path,$=W.SVG,J=function(){return Object(o.createElement)($,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(Y,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(Y,{d:"M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"}))},Q=wp.components,X=Q.Path,Z=Q.SVG,ee=function(){return Object(o.createElement)(Z,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(X,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(X,{d:"M12 12.25c1.24 0 2.25-1.01 2.25-2.25S13.24 7.75 12 7.75 9.75 8.76 9.75 10s1.01 2.25 2.25 2.25zm4.5 4c0-1.5-3-2.25-4.5-2.25s-4.5.75-4.5 2.25V17h9v-.75zM19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"}))},te=wp.components,ne=te.Path,re=te.SVG,ce=function(){return Object(o.createElement)(re,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(ne,{d:"M15 1H9v2h6V1zm4.03 6.39l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-.32-5H6.35c.57 1.62 1.82 2.92 3.41 3.56l-.11-.06 2.03-3.5zm5.97-4c-.57-1.6-1.78-2.89-3.34-3.54L12.26 11h5.39zm-7.04 7.83c.45.11.91.17 1.39.17 1.34 0 2.57-.45 3.57-1.19l-2.11-3.9-2.85 4.92zM7.55 8.99C6.59 10.05 6 11.46 6 13c0 .34.04.67.09 1h4.72L7.55 8.99zm8.79 8.14C17.37 16.06 18 14.6 18 13c0-.34-.04-.67-.09-1h-4.34l2.77 5.13zm-3.01-9.98C12.9 7.06 12.46 7 12 7c-1.4 0-2.69.49-3.71 1.29l2.32 3.56 2.72-4.7z"}))},oe=wp.components,ae=oe.Path,ie=oe.SVG,le=function(){return Object(o.createElement)(ie,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(ae,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(ae,{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}))},se=function(e){var t,n=e.className,r=e.icon,c=e.size;switch(r){case"aperture":t=Object(o.createElement)(z,null);break;case"camera":t=Object(o.createElement)(v,null);break;case"caption":t=Object(o.createElement)(B,null);break;case"created_timestamp":t=Object(o.createElement)(h,null);break;case"credit":t=Object(o.createElement)(le,null);break;case"copyright":t=Object(o.createElement)(_,null);break;case"focal_length":t=Object(o.createElement)(k,null);break;case"iso":t=Object(o.createElement)(A,null);break;case"keywords":t=Object(o.createElement)(U,null);break;case"landscape":t=Object(o.createElement)(o.Fragment,null,Object(o.createElement)(J,null));break;case"portrait":t=Object(o.createElement)(o.Fragment,null,Object(o.createElement)(ee,null));break;case"shutter_speed":t=Object(o.createElement)(ce,null);break;case"title":t=Object(o.createElement)(z,null)}if(!t)return null;var a=["dashicon","material-"+r,n].filter(Boolean).join(" ");return Object(o.createElement)(m.Icon,{icon:function(){return Object(o.createElement)("svg",{"aria-hidden":!0,role:"img",focusable:"false",className:a,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 ".concat(c," ").concat(c)},t)}})},ue=se;se.propTypes={className:p.a.string,icon:p.a.number.isRequired,size:p.a.number},se.defaultProps={className:"",size:24};var pe=n(7),me=n.n(pe);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var fe=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{keywords:null==e?void 0:e.keywords.join(", "),orientation:0===(null==e?void 0:e.orientation)?"portrait":"landscape",created_timestamp:(null==e?void 0:e.created_timestamp)?he(e.created_timestamp):""})},de=wp.hooks.applyFilters,he=function(e){if("string"!=typeof e)return e;var t=1e3*e,n=new Date(t);return de("ded.dateLocaleFormat",n,t).toLocaleString()},Oe=function(e,t){if("string"!=typeof e||""===e)return e;var n="";switch(e){case"orientation":n=0===t[e]?"portrait":"landscape";break;default:n=e}return n};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ye=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return Object.keys(t).forEach((function(e){t[e]||void 0===t[e]||delete t[e]})),t},ve=dedOptions.options,ge=function(e){var t=e.allowedKeys,n=e.displayIcon,r=e.exifData,c=t.filter((function(e){return!Object.keys(ve).includes(e)})),a=fe(r),i=c.map((function(e){return Object(o.createElement)("li",{key:e},n&&Object(o.createElement)(ue,{icon:Oe(e,r)}),"".concat(Object(s.startCase)(Object(s.camelCase)(e.replace(/_/g," "))),": ").concat(a[e].toString()))}));return Object(o.createElement)("ul",null,i)},Ee=ge;ge.propTypes={allowedKeys:p.a.array.isRequired,displayIcon:p.a.bool,exifData:p.a.object.isRequired},ge.defaultProps={displayIcon:!1};var we=wp.i18n.__,ze=function(e){var t=e.attributes,n=t.displayEmptyFieldsToggle,r=t.displayIconsToggle,c=t.id,a=e.setAttributes,u=Object(l.useState)({}),p=i()(u,2),m=p[0],b=p[1],f=Object(l.useState)(!1),d=i()(f,2),h=d[0],O=d[1],j=Object(l.useState)(c),y=i()(j,2),v=y[0],g=y[1];if(Object(l.useEffect)((function(){(Object(s.isEmpty)(m)||c!==v)&&(c!==v&&g(c),function(e){return me()({path:"/wp/v2/media/".concat(e),method:"GET"})}(c).then((function(e){(Object(s.isEmpty)(m)||c!==v)&&b(e)}),(function(e){console.error(we("Failed to retrieve exif data.","ded"),e),O(!0)})))}),[c]),h)return Object(o.createElement)("p",{className:"error"},we("Failed to retrieve exif data.","ded"));if(Object(s.isEmpty)(m))return Object(o.createElement)("p",null,we("Loading Metadata...","ded"));var E=m.media_details.image_meta,w=!0===n?ye(E):E;return a({exifData:m.media_details.image_meta}),Object(o.createElement)(Ee,{displayIcon:r,exifData:E,allowedKeys:Object.keys(w)})},xe=ze;function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ze.propTypes={attributes:{displayEmptyFieldsToggle:p.a.bool,displayIconsToggle:p.a.bool,id:p.a.number.isRequired}},ze.defaultProps={displayEmptyFieldsToggle:!1,displayIcon:!1};var ke=wp,He=ke.blockEditor.InspectorControls,Me=ke.components,Te=Me.PanelBody,Ve=Me.ToggleControl,Ce=ke.compose.createHigherOrderComponent,_e=ke.i18n.__,De=Ce((function(e){return function(t){if("core/image"!==t.name)return Object(o.createElement)(e,t);var n=t.attributes,r=n.displayEmptyFieldsToggle,c=n.displayIconsToggle,a=n.exifDataToggle,i=n.id,l=t.setAttributes,s=a?"exif-data-enabled":"";return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{className:s},Object(o.createElement)(e,t),a&&i?Object(o.createElement)(xe,t):""),Object(o.createElement)(He,null,Object(o.createElement)(Te,{title:_e("Exif Data Settings","ded")},Object(o.createElement)(Ve,{label:_e("Display exif data","ded"),checked:a,onChange:function(e){l({exifDataToggle:e})}}),!0===a&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)(Ve,{label:_e("Display icons","ded"),checked:c,onChange:function(e){l({displayIconsToggle:e})}}),Object(o.createElement)(Ve,{label:_e("Hide empty fields","ded"),checked:r,onChange:function(e){l({displayEmptyFieldsToggle:e})}})))))}}),"withInspectorControl");wp.hooks.addFilter("blocks.registerBlockType","core/image",(function(e,t){return"core/image"!==t?e:Se({},e,{attributes:Se({},e.attributes,{exifDataToggle:{type:"boolean",default:!1},displayIconsToggle:{type:"boolean",default:!0},exifData:{type:"object",default:{}},displayEmptyFieldsToggle:{type:"boolean",default:!0}})})})),wp.hooks.addFilter("editor.BlockEdit","core/image",De),wp.hooks.addFilter("blocks.getSaveElement","core/image",(function(e,t,n){var r=n.displayIconsToggle,c=n.exifData,a=n.exifDataToggle;return"core/image"===t.name&&a?Object(o.createElement)("div",{className:"exif-data-enabled"},e,Object(o.createElement)(Ee,{allowedKeys:Object.keys(c),displayIcon:r,exifData:c})):e}))}]);