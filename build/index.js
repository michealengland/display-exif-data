!function(e){var t={};function n(c){if(t[c])return t[c].exports;var r=t[c]={i:c,l:!1,exports:{}};return e[c].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,c){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(c,r,function(t){return e[t]}.bind(null,r));return c},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t,n){e.exports=n(13)()},function(e,t,n){var c=n(8),r=n(9),a=n(10),o=n(12);e.exports=function(e,t){return c(e)||r(e,t)||a(e,t)||o()}},function(e,t){!function(){e.exports=this.React}()},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],c=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(c=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);c=!0);}catch(e){r=!0,a=e}finally{try{c||null==i.return||i.return()}finally{if(r)throw a}}return n}}},function(e,t,n){var c=n(11);e.exports=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var c=n(14);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,o){if(o!==c){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,,,function(e,t,n){"use strict";n.r(t);var c=n(5),r=n.n(c),a=n(0),o=n(2),i=n.n(o),l=n(3),s=n(4),u=n(1),m=n.n(u),b=n(6),f=n.n(b),p=n(7),h=wp.components,d=h.Path,O=h.SVG,v=function(){return Object(a.createElement)(O,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(a.createElement)(d,{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"}),Object(a.createElement)(d,{d:"M0 0h24v24H0z",fill:"none"}))},j=wp.components,y=j.Path,E=j.SVG,g=function(){return Object(a.createElement)(E,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(a.createElement)(y,{d:"M0 0h24v24H0z",fill:"none"}),Object(a.createElement)(y,{d:"M9.4 10.5l4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0l-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35-.93 1.6z"}))},w=wp.components,z=w.Path,x=w.SVG,S=function(){return Object(a.createElement)(x,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(a.createElement)("circle",{cx:"12",cy:"12",r:"3.2"}),Object(a.createElement)(z,{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"}),Object(a.createElement)(z,{d:"M0 0h24v24H0z",fill:"none"}))},M=wp.components,H=M.Path,P=M.SVG,V=function(){return Object(a.createElement)(P,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(a.createElement)(H,{d:"M0 0h24v24H0z",fill:"none"}),Object(a.createElement)(H,{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"}))},k=wp.components,T=k.G,C=k.Path,_=k.Rect,D=k.SVG,I=function(){return Object(a.createElement)(D,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(a.createElement)(T,null,Object(a.createElement)(_,{fill:"none",height:"24",width:"24",x:"0"})),Object(a.createElement)(T,null,Object(a.createElement)(T,null,Object(a.createElement)(T,null,Object(a.createElement)(C,{d:"M11.88,9.14c1.28,0.06,1.61,1.15,1.63,1.66h1.79c-0.08-1.98-1.49-3.19-3.45-3.19C9.64,7.61,8,9,8,12.14 c0,1.94,0.93,4.24,3.84,4.24c2.22,0,3.41-1.65,3.44-2.95h-1.79c-0.03,0.59-0.45,1.38-1.63,1.44C10.55,14.83,10,13.81,10,12.14 C10,9.25,11.28,9.16,11.88,9.14z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8 s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z"})))))},B=wp.components,L=B.Path,G=B.SVG,R=function(){return Object(a.createElement)(G,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(a.createElement)(L,{d:"M0 0h24v24H0z",fill:"none"}),Object(a.createElement)(L,{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}))},A=wp.components,F=A.Path,N=A.SVG,q=function(){return Object(a.createElement)(N,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(a.createElement)(F,{d:"M0 0h24v24H0zm0 0h24v24H0z",fill:"none"}),Object(a.createElement)(F,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5.5 7.5h2v-2H9v2h2V9H9v2H7.5V9h-2V7.5zM19 19H5L19 5v14zm-2-2v-1.5h-5V17h5z"}))},K=wp.components,U=K.Path,W=K.SVG,Y=function(){return Object(a.createElement)(W,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(a.createElement)(U,{d:"M0 0h24v24H0z",fill:"none"}),Object(a.createElement)(U,{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"}))},$=wp.components,J=$.Path,Q=$.SVG,X=function(){return Object(a.createElement)(Q,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(a.createElement)(J,{d:"M0 0h24v24H0z",fill:"none"}),Object(a.createElement)(J,{d:"M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"}))},Z=wp.components,ee=Z.Path,te=Z.SVG,ne=function(){return Object(a.createElement)(te,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(a.createElement)(ee,{d:"M0 0h24v24H0z",fill:"none"}),Object(a.createElement)(ee,{d:"M12 12.25c1.24 0 2.25-1.01 2.25-2.25S13.24 7.75 12 7.75 9.75 8.76 9.75 10s1.01 2.25 2.25 2.25zm4.5 4c0-1.5-3-2.25-4.5-2.25s-4.5.75-4.5 2.25V17h9v-.75zM19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"}))},ce=wp.components,re=ce.Path,ae=ce.SVG,oe=function(){return Object(a.createElement)(ae,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(a.createElement)(re,{d:"M15 1H9v2h6V1zm4.03 6.39l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-.32-5H6.35c.57 1.62 1.82 2.92 3.41 3.56l-.11-.06 2.03-3.5zm5.97-4c-.57-1.6-1.78-2.89-3.34-3.54L12.26 11h5.39zm-7.04 7.83c.45.11.91.17 1.39.17 1.34 0 2.57-.45 3.57-1.19l-2.11-3.9-2.85 4.92zM7.55 8.99C6.59 10.05 6 11.46 6 13c0 .34.04.67.09 1h4.72L7.55 8.99zm8.79 8.14C17.37 16.06 18 14.6 18 13c0-.34-.04-.67-.09-1h-4.34l2.77 5.13zm-3.01-9.98C12.9 7.06 12.46 7 12 7c-1.4 0-2.69.49-3.71 1.29l2.32 3.56 2.72-4.7z"}))},ie=wp.components,le=ie.Path,se=ie.SVG,ue=function(){return Object(a.createElement)(se,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(a.createElement)(le,{d:"M0 0h24v24H0z",fill:"none"}),Object(a.createElement)(le,{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}))},me=function(e){var t,n=e.className,c=e.icon,r=e.size;switch(c){case"aperture":t=Object(a.createElement)(S,null);break;case"camera":t=Object(a.createElement)(g,null);break;case"caption":t=Object(a.createElement)(R,null);break;case"created_timestamp":t=Object(a.createElement)(v,null);break;case"credit":t=Object(a.createElement)(ue,null);break;case"copyright":t=Object(a.createElement)(I,null);break;case"focal_length":t=Object(a.createElement)(V,null);break;case"iso":t=Object(a.createElement)(q,null);break;case"keywords":t=Object(a.createElement)(Y,null);break;case"orientation":t=Object(a.createElement)(a.Fragment,null,Object(a.createElement)(X,null),Object(a.createElement)(ne,null));break;case"shutter_speed":t=Object(a.createElement)(oe,null);break;case"title":t=Object(a.createElement)(S,null)}if(!t)return null;var o=["dashicon","material-"+c,n].filter(Boolean).join(" ");return Object(a.createElement)(p.Icon,{icon:function(){return Object(a.createElement)("svg",{"aria-hidden":!0,role:"img",focusable:"false",className:o,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 ".concat(r," ").concat(r)},t)}})},be=me;me.propTypes={className:m.a.string,icon:m.a.number.isRequired,size:m.a.number},me.defaultProps={className:"",size:24};var fe=function(e){var t=e.allowedKeys,n=e.displayIcon,c=e.exifData;return Object(a.createElement)("ul",null,t.map((function(e){return Object(a.createElement)("li",{key:e},n?Object(a.createElement)(be,{icon:e}):"","".concat(e,": ").concat(c[e].toString()))})))},pe=fe;fe.propTypes={allowedKeys:m.a.array.isRequired,displayIcon:m.a.bool,exifData:m.a.object.isRequired},fe.defaultProps={displayIcon:!1};var he=function(e){var t=e.attributes,n=t.displayIconsToggle,c=t.id,r=e.setAttributes,o=Object(l.useState)({}),u=i()(o,2),m=u[0],b=u[1],p=Object(l.useState)(!1),h=i()(p,2),d=h[0],O=h[1],v=Object(l.useState)(c),j=i()(v,2),y=j[0],E=j[1];if(Object(s.isEmpty)(m)||c!==y){c!==y&&E(c);f()({path:"/wp/v2/media/".concat(c),method:"GET"}).then((function(e){(Object(s.isEmpty)(m)||c!==y)&&b(e)}),(function(e){console.error("Failed to retrieve exif data.",e),O(!0)}))}return d?Object(a.createElement)("ul",null,Object(a.createElement)("li",null,"Failed to retrieve exif data.")):Object(s.isEmpty)(m)?Object(a.createElement)("ul",null,Object(a.createElement)("li",null,"Loading Metadata...")):(r({exifData:m.media_details.image_meta}),Object(a.createElement)(pe,{displayIcon:n,exifData:m.media_details.image_meta,allowedKeys:Object.keys(m.media_details.image_meta)}))},de=he;function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}he.propTypes={attributes:{displayIconsToggle:m.a.bool,id:m.a.number.isRequired}},he.defaultProps={displayIcon:!1};var je=wp,ye=je.blockEditor.InspectorControls,Ee=je.components,ge=Ee.PanelBody,we=Ee.ToggleControl,ze=je.compose.createHigherOrderComponent,xe=je.i18n.__,Se=ze((function(e){return function(t){if("core/image"!==t.name)return Object(a.createElement)(e,t);var n=t.attributes,c=n.displayIconsToggle,r=n.exifDataToggle,o=n.id,i=t.setAttributes,l=r?"exif-data-enabled":"";return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:l},Object(a.createElement)(e,t),r&&o?Object(a.createElement)(de,t):""),Object(a.createElement)(ye,null,Object(a.createElement)(ge,{title:xe("Exif Data Settings")},Object(a.createElement)(we,{label:xe("Display exif data from image file."),checked:r,onChange:function(e){i({exifDataToggle:e})}}),Object(a.createElement)(we,{label:xe("Display icons."),checked:c,onChange:function(e){i({displayIconsToggle:e})}}))))}}),"withInspectorControl");wp.hooks.addFilter("blocks.registerBlockType","core/image",(function(e,t){return"core/image"!==t?e:ve({},e,{attributes:ve({},e.attributes,{exifDataToggle:{type:"boolean",default:!1},displayIconsToggle:{type:"boolean",default:!0},exifData:{type:"object",default:{}}})})})),wp.hooks.addFilter("editor.BlockEdit","core/image",Se),wp.hooks.addFilter("blocks.getSaveElement","core/image",(function(e,t,n){var c=n.exifData,r=n.exifDataToggle;return"core/image"===t.name&&r?Object(a.createElement)("div",{className:"exif-data-enabled"},e,Object(a.createElement)(pe,{exifData:c,allowedKeys:Object.keys(c)})):e}))}]);