!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.js")}({"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}}},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},"./node_modules/@babel/runtime/helpers/slicedToArray.js":function(e,t,r){var n=r("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),o=r("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),a=r("./node_modules/@babel/runtime/helpers/nonIterableRest.js");e.exports=function(e,t){return n(e)||o(e,t)||a()}},"./src/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=r.n(n),a=r("@wordpress/element"),i=r("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=r.n(i),c=r("react"),u=r("lodash"),s=r("@wordpress/api-fetch"),f=r.n(s),b=function(e){var t=e.exifData,r=e.allowedKeys;return Object(a.createElement)("ul",null,r.map((function(e){return Object(a.createElement)("li",{key:e},"".concat(e,": ").concat(t[e].toString()))})))},d=function(e){var t=e.attributes,r=t.id,n=(t.exifData,e.setAttributes),o=Object(c.useState)({}),i=l()(o,2),s=i[0],d=i[1],m=Object(c.useState)(!1),p=l()(m,2),j=p[0],y=p[1],O=Object(c.useState)(r),g=l()(O,2),h=g[0],x=g[1];if(Object(u.isEmpty)(s)||r!==h){r!==h&&x(r);f()({path:"/wp/v2/media/".concat(r),method:"GET"}).then((function(e){(Object(u.isEmpty)(s)||r!==h)&&d(e)}),(function(e){console.error("Failed to retrieve exif data.",e),y(!0)}))}return j?Object(a.createElement)("ul",null,Object(a.createElement)("li",null,"Failed to retrieve exif data.")):Object(u.isEmpty)(s)?Object(a.createElement)("ul",null,Object(a.createElement)("li",null,"Loading Metadata...")):(n({exifData:s.media_details.image_meta}),Object(a.createElement)(b,{exifData:s.media_details.image_meta,allowedKeys:Object.keys(s.media_details.image_meta)}))};function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var p=wp,j=p.blockEditor.InspectorControls,y=p.components,O=y.PanelBody,g=y.ToggleControl,h=p.compose.createHigherOrderComponent,x=p.element.Fragment,v=p.i18n.__,E=h((function(e){return function(t){var r=t.attributes,n=r.exifDataToggle,o=r.id,i=t.setAttributes,l=n?"exif-data-enabled":"";return Object(a.createElement)(x,null,Object(a.createElement)("div",{className:l},Object(a.createElement)(e,t),n&&o?Object(a.createElement)(d,t):""),Object(a.createElement)(j,null,Object(a.createElement)(O,{title:v("Enable Exif Data")},Object(a.createElement)(g,{label:v("Display exif data from image file."),checked:n,onChange:function(e){i({exifDataToggle:e})}}))))}}),"withInspectorControl");wp.hooks.addFilter("blocks.registerBlockType","core/image",(function(e,t){if("core/image"!==t)return e;var r=e.attributes;return e.attributes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{exifDataToggle:{type:"boolean",default:!1},exifData:{type:"object",default:{}}}),e})),wp.hooks.addFilter("editor.BlockEdit","core/image",E),wp.hooks.addFilter("blocks.getSaveElement","core/image",(function(e,t,r){var n=r.exifData,o=r.exifDataToggle;return"core/image"===t.name&&o?Object(a.createElement)("div",{className:"exif-data-enabled"},e,Object(a.createElement)(b,{exifData:n,allowedKeys:Object.keys(n)})):e}))},"@wordpress/api-fetch":function(e,t){!function(){e.exports=this.wp.apiFetch}()},"@wordpress/element":function(e,t){!function(){e.exports=this.wp.element}()},lodash:function(e,t){!function(){e.exports=this.lodash}()},react:function(e,t){!function(){e.exports=this.React}()}});