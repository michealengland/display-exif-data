!function(e){var t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(r,c,function(t){return e[t]}.bind(null,c));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.js")}({"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,c=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){c=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(c)throw o}}return n}}},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},"./node_modules/@babel/runtime/helpers/slicedToArray.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),c=n("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),o=n("./node_modules/@babel/runtime/helpers/nonIterableRest.js");e.exports=function(e,t){return r(e)||c(e,t)||o()}},"./node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function c(){}function o(){}o.resetWarningCache=c,e.exports=function(){function e(e,t,n,c,o,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:c};return n.PropTypes=n,n}},"./node_modules/prop-types/index.js":function(e,t,n){e.exports=n("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./src/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(r),o=n("@wordpress/element"),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(a),i=n("react"),s=n("lodash"),u=n("./node_modules/prop-types/index.js"),m=n.n(u),p=n("@wordpress/api-fetch"),b=n.n(p),d=n("@wordpress/components"),h=wp.components,f=h.Path,j=h.SVG,O=function(){return Object(o.createElement)(j,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(f,{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"}),Object(o.createElement)(f,{d:"M0 0h24v24H0z",fill:"none"}))},v=wp.components,y=v.Path,E=v.SVG,g=function(){return Object(o.createElement)(E,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(y,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(y,{d:"M9.4 10.5l4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0l-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35-.93 1.6z"}))},w=wp.components,z=w.Path,x=w.SVG,S=function(){return Object(o.createElement)(x,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)("circle",{cx:"12",cy:"12",r:"3.2"}),Object(o.createElement)(z,{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"}),Object(o.createElement)(z,{d:"M0 0h24v24H0z",fill:"none"}))},_=wp.components,H=_.Path,P=_.SVG,M=function(){return Object(o.createElement)(P,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(H,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(H,{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"}))},T=wp.components,V=T.G,k=T.Path,C=T.Rect,D=T.SVG,I=function(){return Object(o.createElement)(D,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(V,null,Object(o.createElement)(C,{fill:"none",height:"24",width:"24",x:"0"})),Object(o.createElement)(V,null,Object(o.createElement)(V,null,Object(o.createElement)(V,null,Object(o.createElement)(k,{d:"M11.88,9.14c1.28,0.06,1.61,1.15,1.63,1.66h1.79c-0.08-1.98-1.49-3.19-3.45-3.19C9.64,7.61,8,9,8,12.14 c0,1.94,0.93,4.24,3.84,4.24c2.22,0,3.41-1.65,3.44-2.95h-1.79c-0.03,0.59-0.45,1.38-1.63,1.44C10.55,14.83,10,13.81,10,12.14 C10,9.25,11.28,9.16,11.88,9.14z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8 s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z"})))))},B=wp.components,L=B.Path,R=B.SVG,G=function(){return Object(o.createElement)(R,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(L,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(L,{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}))},A=wp.components,F=A.Path,N=A.SVG,W=function(){return Object(o.createElement)(N,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(F,{d:"M0 0h24v24H0zm0 0h24v24H0z",fill:"none"}),Object(o.createElement)(F,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5.5 7.5h2v-2H9v2h2V9H9v2H7.5V9h-2V7.5zM19 19H5L19 5v14zm-2-2v-1.5h-5V17h5z"}))},q=wp.components,K=q.Path,U=q.SVG,Y=function(){return Object(o.createElement)(U,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(K,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(K,{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"}))},J=wp.components,Q=J.Path,X=J.SVG,Z=function(){return Object(o.createElement)(X,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(Q,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(Q,{d:"M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"}))},$=wp.components,ee=$.Path,te=$.SVG,ne=function(){return Object(o.createElement)(te,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(ee,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(ee,{d:"M12 12.25c1.24 0 2.25-1.01 2.25-2.25S13.24 7.75 12 7.75 9.75 8.76 9.75 10s1.01 2.25 2.25 2.25zm4.5 4c0-1.5-3-2.25-4.5-2.25s-4.5.75-4.5 2.25V17h9v-.75zM19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"}))},re=wp.components,ce=re.Path,oe=re.SVG,ae=function(){return Object(o.createElement)(oe,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(ce,{d:"M15 1H9v2h6V1zm4.03 6.39l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-.32-5H6.35c.57 1.62 1.82 2.92 3.41 3.56l-.11-.06 2.03-3.5zm5.97-4c-.57-1.6-1.78-2.89-3.34-3.54L12.26 11h5.39zm-7.04 7.83c.45.11.91.17 1.39.17 1.34 0 2.57-.45 3.57-1.19l-2.11-3.9-2.85 4.92zM7.55 8.99C6.59 10.05 6 11.46 6 13c0 .34.04.67.09 1h4.72L7.55 8.99zm8.79 8.14C17.37 16.06 18 14.6 18 13c0-.34-.04-.67-.09-1h-4.34l2.77 5.13zm-3.01-9.98C12.9 7.06 12.46 7 12 7c-1.4 0-2.69.49-3.71 1.29l2.32 3.56 2.72-4.7z"}))},le=wp.components,ie=le.Path,se=le.SVG,ue=function(){return Object(o.createElement)(se,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},Object(o.createElement)(ie,{d:"M0 0h24v24H0z",fill:"none"}),Object(o.createElement)(ie,{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}))},me=function(e){var t,n=e.className,r=e.icon,c=e.size;switch(r){case"aperture":t=Object(o.createElement)(S,null);break;case"camera":t=Object(o.createElement)(g,null);break;case"caption":t=Object(o.createElement)(G,null);break;case"created_timestamp":t=Object(o.createElement)(O,null);break;case"credit":t=Object(o.createElement)(ue,null);break;case"copyright":t=Object(o.createElement)(I,null);break;case"focal_length":t=Object(o.createElement)(M,null);break;case"iso":t=Object(o.createElement)(W,null);break;case"keywords":t=Object(o.createElement)(Y,null);break;case"orientation":t=Object(o.createElement)(o.Fragment,null,Object(o.createElement)(Z,null),Object(o.createElement)(ne,null));break;case"shutter_speed":t=Object(o.createElement)(ae,null);break;case"title":t=Object(o.createElement)(S,null)}if(!t)return null;var a=["dashicon","material-"+r,n].filter(Boolean).join(" ");return Object(o.createElement)(d.Icon,{icon:function(){return Object(o.createElement)("svg",{"aria-hidden":!0,role:"img",focusable:"false",className:a,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 ".concat(c," ").concat(c)},t)}})},pe=me;me.propTypes={className:m.a.string,icon:m.a.number.isRequired,size:m.a.number},me.defaultProps={className:"",size:24};var be=function(e){var t=e.allowedKeys,n=e.displayIcon,r=e.exifData;return Object(o.createElement)("ul",null,t.map((function(e){return Object(o.createElement)("li",{key:e},n?Object(o.createElement)(pe,{icon:e}):"","".concat(e,": ").concat(r[e].toString()))})))},de=be;be.propTypes={allowedKeys:m.a.array.isRequired,displayIcon:m.a.bool,exifData:m.a.object.isRequired},be.defaultProps={displayIcon:!1};var he=function(e){var t=e.attributes,n=t.displayIconsToggle,r=t.id,c=e.setAttributes,a=Object(i.useState)({}),u=l()(a,2),m=u[0],p=u[1],d=Object(i.useState)(!1),h=l()(d,2),f=h[0],j=h[1],O=Object(i.useState)(r),v=l()(O,2),y=v[0],E=v[1];if(Object(s.isEmpty)(m)||r!==y){r!==y&&E(r);b()({path:"/wp/v2/media/".concat(r),method:"GET"}).then((function(e){(Object(s.isEmpty)(m)||r!==y)&&p(e)}),(function(e){console.error("Failed to retrieve exif data.",e),j(!0)}))}return f?Object(o.createElement)("ul",null,Object(o.createElement)("li",null,"Failed to retrieve exif data.")):Object(s.isEmpty)(m)?Object(o.createElement)("ul",null,Object(o.createElement)("li",null,"Loading Metadata...")):(c({exifData:m.media_details.image_meta}),Object(o.createElement)(de,{displayIcon:n,exifData:m.media_details.image_meta,allowedKeys:Object.keys(m.media_details.image_meta)}))},fe=he;function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}he.propTypes={attributes:{displayIconsToggle:m.a.bool,id:m.a.number.isRequired}},he.defaultProps={displayIcon:!1};var ve=wp,ye=ve.blockEditor.InspectorControls,Ee=ve.components,ge=Ee.PanelBody,we=Ee.ToggleControl,ze=ve.compose.createHigherOrderComponent,xe=ve.i18n.__,Se=ze((function(e){return function(t){if("core/image"!==t.name)return Object(o.createElement)(e,t);var n=t.attributes,r=n.displayIconsToggle,c=n.exifDataToggle,a=n.id,l=t.setAttributes,i=c?"exif-data-enabled":"";return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{className:i},Object(o.createElement)(e,t),c&&a?Object(o.createElement)(fe,t):""),Object(o.createElement)(ye,null,Object(o.createElement)(ge,{title:xe("Exif Data Settings")},Object(o.createElement)(we,{label:xe("Display exif data from image file."),checked:c,onChange:function(e){l({exifDataToggle:e})}}),Object(o.createElement)(we,{label:xe("Display icons."),checked:r,onChange:function(e){l({displayIconsToggle:e})}}))))}}),"withInspectorControl");wp.hooks.addFilter("blocks.registerBlockType","core/image",(function(e,t){return"core/image"!==t?e:Oe({},e,{attributes:Oe({},e.attributes,{exifDataToggle:{type:"boolean",default:!1},displayIconsToggle:{type:"boolean",default:!0},exifData:{type:"object",default:{}}})})})),wp.hooks.addFilter("editor.BlockEdit","core/image",Se),wp.hooks.addFilter("blocks.getSaveElement","core/image",(function(e,t,n){var r=n.exifData,c=n.exifDataToggle;return"core/image"===t.name&&c?Object(o.createElement)("div",{className:"exif-data-enabled"},e,Object(o.createElement)(de,{exifData:r,allowedKeys:Object.keys(r)})):e}))},"@wordpress/api-fetch":function(e,t){!function(){e.exports=this.wp.apiFetch}()},"@wordpress/components":function(e,t){!function(){e.exports=this.wp.components}()},"@wordpress/element":function(e,t){!function(){e.exports=this.wp.element}()},lodash:function(e,t){!function(){e.exports=this.lodash}()},react:function(e,t){!function(){e.exports=this.React}()}});